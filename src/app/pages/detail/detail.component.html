<div class="detail-container">

  <p class="back-btn" (click)="backBtnClicked()">< Volver</p>

  <div class="pub-info-card" *ngIf="publication">
    <div class="pub-info-header">
      <div class="header-left">
        <p class="header-name">{{ publication.user.nombre }} {{ publication.user.apellido }}</p>
        <img src="/assets/icons/user-avatar.svg" alt="user">
      </div>
      <div class="header-right">
        <p class="profile-btn" (click)="profileDialogBtnClicked()">Ver perfil</p>
        <p class="qualification-btn" (click)="openQualificationDialog()">Ver sus calificaciones</p>
      </div>
    </div>
    <div class="divider"></div>
    <div class="pub-info-body">
      <div class="info-item">
        <p class="info-title">Â¿QuÃ© busca?</p>
        <p class="info-answer">{{ publication.descripcion }}</p>
      </div>
      <div class="info-item">
        <p class="info-title">Antes de:</p>
        <p class="info-answer">{{ publication.fecha_limite === '3000-12-31' ? '-' : publication.fecha_limite }}</p>
      </div>
      <div class="info-item">
        <p class="info-title">Â¿Por cuÃ¡nto tiempo?</p>
        <p class="info-answer">{{ publication.cantidad_tiempo }}  {{ publication.unidad_tiempo }}</p>
      </div>
    </div>
  </div>

  <p class="detail-container-text">Lo tenÃ©s? <span class="blue">Ofrecelo</span></p>

  <div class="offer-card" *ngIf="!showSuccessfulMessage">
    <div class="offer-form">

      <div class="left">
        <span>Monto pretendido (AR$)</span>
        <div class="input-container">
          <input type="text" placeholder="Ej: 500.00" mask="separator.2" thousandSeparator="," [formControl]="amountControl" />
        </div>

        <span>Tiempo</span>
        <div class="row">
          <div class="input-container">
            <input type="text" placeholder="Por cuÃ¡nto tiempo?" mask="999" [formControl]="timeControl" />
          </div>
          <mat-form-field>
            <mat-select [formControl]="timeUnitControl">
              <mat-option value="dÃ­as">dÃ­as</mat-option>
              <mat-option value="meses">meses</mat-option>
              <mat-option value="aÃ±o">aÃ±o</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <span>Comentario extra</span>
        <div class="input-container">
          <input type="text" placeholder="Ej: Es viejo pero funciona :)" [formControl]="commentControl"/>
        </div>

        <!-- <span>Tu celular</span>
        <div class="input-container">
          <input type="text" placeholder="Ej: (11) 2345-6789" mask="(00) 0000-0000" [formControl]="phoneControl" />
        </div> -->
      </div>

      <div class="right">
        <span>Cargar imagen</span>
        <div class="upload-image-section" (click)="openUploadImageWindow()">
          <p class="upload-image-text" *ngIf="!changedImage">HacÃ© click para agregar una foto</p>
          <img *ngIf="changedImage" [src]="imageShown" alt="image">
          <input
            #fileUploadInput
            id="image-upload"
            type="file"
            value=""
            accept="image/*"
            (change)="readImage($event)"
          />
        </div>
      </div>

    </div>
    <div class="send-offer-btn" [class.clickeable]="checkIfSendBtnClickeable()" (click)="sendProposal()">
      <p>Enviar propuesta</p>
    </div>
  </div>

  <div class="sucessful-section" *ngIf="showSuccessfulMessage">
    <p>Listo! En caso de que le interese a {{ publication.user.nombre }} {{ publication.user.apellido }},</p>
    <p>se va a contactar con vos ðŸš€</p>
  </div>

</div>
